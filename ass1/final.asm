		A DUP 20
		LDA R1 1
		LDA R4 0
		SUB R8 R0 R1
L_MAIN	LD R2 0xFF
		BZ R2 L_RET
		SUB R7 R2 R8
		BZ R7 L_PRINT
		BZ R0 L_IN

L_RET 	HLT

L_PRINT	ST R0 0xFF
		LDA R6 0
L_L1	SUB R7 R6 R4
		BZ R7 L_MAIN
		LDA R7 A
		ADD R7 R7 R6
		LDI R7 R7
		ST R7 0xFF
		ADD R6 R6 R1
		BZ R0 L_L1

L_IN  	LDA R5 0
L_L2	SUB R7 R5 R4
		BP R7 L_L5
		BZ R7 L_L5
		LDA R7 A
		ADD R7 R7 R5
		LDI R7 R7
		SUB R7 R7 R2
		BP R7 L_L5
		ADD R5 R5 R1
		BZ R0 L_L2

L_L5	SUB R6 R4 R1
L_L4	SUB R7 R6 R5
		BP R7 L_L3
		BZ R7 L_L3
		LDA R7 A
		ADD R7 R7 R5
		STI R2 R7
		ADD R4 R4 R1
		BZ R0 L_MAIN
		
L_L3	LDA R7 A
		ADD R7 R7 R6
		ADD R7 R7 R1
		LDA R9 A
		ADD R9 R9 R6
		LDI R9 R9
		STI R9 R7
		SUB R6 R6 R1
		BZ R0 L_L4